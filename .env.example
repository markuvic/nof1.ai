# ===========================================
# AI 加密货币自动交易系统 - 环境变量配置
# ===========================================

# ============================================
# 服务器配置
# ============================================
# Web 服务器监听端口
PORT=3100

# ============================================
# 交易配置
# ============================================
# 交易循环间隔（分钟）
# 建议：波段趋势策略使用20分钟，超短线策略使用5分钟
TRADING_INTERVAL_MINUTES=20

# 最大杠杆倍数
MAX_LEVERAGE=25
MAX_POSITIONS=5
MAX_HOLDING_HOURS=36
EXTREME_STOP_LOSS_PERCENT=-30

# 交易策略（ultra-short, swing-trend, conservative, balanced, aggressive, aggressive-team, rebate-farming, ai-autonomous, multi-agent-consensus）
# ultra-short:            超短线策略（5分钟周期，快进快出，中高风险）
# swing-trend:            波段趋势策略（20分钟周期，捕捉中期趋势，中低风险） 波段的平仓止盈由代码控制，其他的策略由AI控制
# conservative:           稳健策略（低风险低杠杆，保护本金优先）
# balanced:               平衡策略（风险收益平衡，默认策略）
# aggressive:             激进策略（高风险高杠杆，追求高收益）
# aggressive-team:        激进团策略（团长+双团员突击决策，高杠杆高仓位，激进出击不畏缩，⚠️ 注意：多Agent协作会消耗更多token）
# rebate-farming:         返佣套利策略（5分钟周期，高频微利交易，适合有手续费返佣的用户，代码级止损止盈）
# ai-autonomous:          AI自主策略（完全由AI主导，不提供任何策略建议，AI自主分析和决策）
# multi-agent-consensus:  陪审团策略（法官+陪审团合议决策，1主Agent+3专业Agent，高质量决策，⚠️ 注意：多Agent协作会消耗更多token）
#
# 推荐配置组合：
# 1. 波段趋势（中长线）        ：TRADING_STRATEGY=swing-trend, TRADING_INTERVAL_MINUTES=20
# 2. 超短线（快进快出）        ：TRADING_STRATEGY=ultra-short, TRADING_INTERVAL_MINUTES=5
# 3. 稳健均衡                  ：TRADING_STRATEGY=balanced, TRADING_INTERVAL_MINUTES=10
# 4. 激进团（团队突击）        ：TRADING_STRATEGY=aggressive-team, TRADING_INTERVAL_MINUTES=5
# 5. 返佣套利（高频微利）      ：TRADING_STRATEGY=rebate-farming, TRADING_INTERVAL_MINUTES=5
# 6. AI自主（完全自主决策，默认）：TRADING_STRATEGY=ai-autonomous, TRADING_INTERVAL_MINUTES=5
# 7. 陪审团（多Agent合议，高成本）：TRADING_STRATEGY=multi-agent-consensus, TRADING_INTERVAL_MINUTES=5
TRADING_STRATEGY=ai-autonomous

# 初始资金（USDT）
INITIAL_BALANCE=1000
ACCOUNT_STOP_LOSS_USDT=50          # 止损线
ACCOUNT_TAKE_PROFIT_USDT=20000      # 止盈线
SYNC_CONFIG_ON_STARTUP=true        # 启动时同步配置

# ============================================
# 数据库配置
# ============================================
# 数据库连接 URL
# 使用本地 SQLite: file:./.voltagent/trading.db
# 使用远程 Turso: libsql://your-database.turso.io
DATABASE_URL=file:./.voltagent/trading.db

# ============================================
# 交易所配置
# ============================================
# 选择使用的交易所（gate/okx，默认: gate）
EXCHANGE=gate

# ============================================
# Gate.io API 配置
# ============================================
# Gate.io API 密钥（必需）
GATE_API_KEY=your_api_key_here

# Gate.io API 密钥（必需）
GATE_API_SECRET=your_api_secret_here

# 是否使用 Gate.io 测试网（true/false）
GATE_USE_TESTNET=true

# OKX API 配置
# ============================================
# OKX API 密钥（必需，当 EXCHANGE=okx 时）
OKX_API_KEY=your_okx_api_key_here

# OKX API 密钥（必需，当 EXCHANGE=okx 时）
OKX_API_SECRET=your_okx_api_secret_here

# OKX API 口令（必需，当 EXCHANGE=okx 时）
OKX_API_PASSPHRASE=your_okx_passphrase_here

# 是否使用 OKX 测试网（true/false）
# 测试网和正式网使用相同域名，通过 x-simulated-trading header 区分
OKX_USE_TESTNET=true

# ============================================
# 手动平仓密码配置
# ============================================
# 用于网页界面手动平仓功能的密码验证（必需）
# 如果不设置此密码，网页平仓功能将被禁用
# 建议：设置一个强密码，不要使用 API 密钥
CLOSE_POSITION_PASSWORD=

# ============================================
# AI 模型配置
# ============================================
# OpenAI 兼容的 API 密钥（必需）
# 支持 OpenAI、OpenRouter 或其他兼容供应商
OPENAI_API_KEY=your_api_key_here

# OpenAI 兼容的 API 基础地址（可选）
# OpenRouter: https://openrouter.ai/api/v1
# OpenAI: https://api.openai.com/v1
# DeepSeek: https://api.deepseek.com/v1
# 或其他兼容 OpenAI API 的供应商地址
OPENAI_BASE_URL=https://openrouter.ai/api/v1

# AI 模型名称（可选，默认使用 deepseek/deepseek-v3.2-exp）
# 注意：不同供应商的模型名称不同
# OpenRouter: deepseek/deepseek-v3.2-exp, x-ai/grok-4-fast, 等
# OpenAI: gpt-4, gpt-3.5-turbo, 等
# DeepSeek: deepseek-chat, deepseek-coder, 等
AI_MODEL_NAME=deepseek/deepseek-v3.2-exp
#AI_MODEL_NAME=x-ai/grok-4-fast

# ============================================
# 账户回撤风控配置
# ============================================
# 当账户资产相比峰值回撤达到以下百分比时的风控措施：
ACCOUNT_DRAWDOWN_WARNING_PERCENT=20          # 警告阈值：发出风险警告提醒
ACCOUNT_DRAWDOWN_NO_NEW_POSITION_PERCENT=30  # 禁止开仓阈值：停止开新仓位，只允许平仓
ACCOUNT_DRAWDOWN_FORCE_CLOSE_PERCENT=50      # 强制平仓阈值：自动平掉所有仓位，保护剩余资金

# ============================================
# 账户记录配置
# ============================================
# 账户资产记录间隔（分钟）
# 说明：定期记录账户资产到数据库，生成资产曲线
# 注意：系统还会在账户净值创新高时实时记录（10秒检查周期），确保峰值不丢失
ACCOUNT_RECORD_INTERVAL_MINUTES=1
