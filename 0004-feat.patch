From 27554eabb51de0341fe13f9fc72ed402a99e85db Mon Sep 17 00:00:00 2001
From: 195440 <195440@qq.com>
Date: Sun, 2 Nov 2025 21:56:17 +0800
Subject: [PATCH 4/4] =?UTF-8?q?feat:=20=E6=9B=B4=E6=96=B0=E4=BA=A4?=
 =?UTF-8?q?=E6=98=93=E7=AD=96=E7=95=A5=E5=92=8C=E5=8F=82=E6=95=B0=E9=85=8D?=
 =?UTF-8?q?=E7=BD=AE?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

- 在`.env.example`中新增超短线和波段趋势交易策略的配置说明，调整默认交易间隔为20分钟。
- 在`README_ZH.md`中添加交易策略的详细说明和推荐配置，提升文档的可读性和实用性。
- 在`tradingAgent.ts`中扩展交易策略类型，增加超短线和波段趋势策略的参数配置，优化交易决策逻辑。
---
 .cursorignore                 |   2 +
 .env.example                  |  20 +-
 README_ZH.md                  |  23 +++
 docs/TRADING_STRATEGIES_ZH.md | 376 ++++++++++++++++++++++++++++++++++
 src/agents/tradingAgent.ts    |  92 ++++++++-
 5 files changed, 505 insertions(+), 8 deletions(-)
 create mode 100644 .cursorignore
 create mode 100644 docs/TRADING_STRATEGIES_ZH.md

diff --git a/.cursorignore b/.cursorignore
new file mode 100644
index 0000000..1f0fb9e
--- /dev/null
+++ b/.cursorignore
@@ -0,0 +1,2 @@
+.env
+!.env.example
\ No newline at end of file
diff --git a/.env.example b/.env.example
index 069d4bf..1326535 100644
--- a/.env.example
+++ b/.env.example
@@ -12,18 +12,26 @@ PORT=3100
 # 交易配置
 # ============================================
 # 交易循环间隔（分钟）
-TRADING_INTERVAL_MINUTES=10
+# 建议：波段趋势策略使用20分钟，超短线策略使用5分钟
+TRADING_INTERVAL_MINUTES=20
 
 # 最大杠杆倍数
 MAX_LEVERAGE=25
 MAX_POSITIONS=5
 MAX_HOLDING_HOURS=36
 
-# 交易策略（conservative, balanced, aggressive）
-# conservative: 低风险低杠杆，严格入场条件，适合保守投资者
-# balanced: 中等风险杠杆，合理入场条件，适合大多数投资者
-# aggressive: 高风险高杠杆，宽松入场条件，适合激进投资者
-TRADING_STRATEGY=balanced
+# 交易策略（ultra-short, swing-trend, conservative, balanced, aggressive）
+# ultra-short:   超短线策略（5分钟周期，快进快出，中高风险）
+# swing-trend:   波段趋势策略（20分钟周期，捕捉中期趋势，中低风险）
+# conservative:  稳健策略（低风险低杠杆，保护本金优先）
+# balanced:      平衡策略（风险收益平衡，默认策略）
+# aggressive:    激进策略（高风险高杠杆，追求高收益）
+#
+# 推荐配置组合：
+# 1. 波段趋势（中长线）：TRADING_STRATEGY=swing-trend, TRADING_INTERVAL_MINUTES=20
+# 2. 超短线（快进快出）：TRADING_STRATEGY=ultra-short, TRADING_INTERVAL_MINUTES=5
+# 3. 稳健均衡（默认）  ：TRADING_STRATEGY=balanced, TRADING_INTERVAL_MINUTES=10
+TRADING_STRATEGY=swing-trend
 
 # 初始资金（USDT）
 INITIAL_BALANCE=1000
diff --git a/README_ZH.md b/README_ZH.md
index 516ab84..f08865c 100644
--- a/README_ZH.md
+++ b/README_ZH.md
@@ -269,6 +269,7 @@ open-nof1.ai/
 | 变量 | 说明 | 默认值 | 是否必需 |
 |------|------|--------|---------|
 | `PORT` | HTTP 服务器端口 | 3100 | 否 |
+| `TRADING_STRATEGY` | 交易策略(`ultra-short`/`swing-trend`/`conservative`/`balanced`/`aggressive`) | balanced | 否 |
 | `TRADING_INTERVAL_MINUTES` | 交易循环间隔(分钟) | 5 | 否 |
 | `MAX_LEVERAGE` | 最大杠杆倍数 | 10 | 否 |
 | `MAX_POSITIONS` | 最大持仓数量 | 5 | 否 |
@@ -285,6 +286,28 @@ open-nof1.ai/
 | `ACCOUNT_DRAWDOWN_NO_NEW_POSITION_PERCENT` | 禁止开仓阈值：停止开新仓位，只允许平仓(%) | 30 | 否 |
 | `ACCOUNT_DRAWDOWN_FORCE_CLOSE_PERCENT` | 强制平仓阈值：自动平掉所有仓位，保护剩余资金(%) | 50 | 否 |
 
+### 交易策略说明
+
+系统支持5种交易策略，适应不同的市场环境和风险偏好：
+
+| 策略代码 | 策略名称 | 执行周期 | 持仓时长 | 风险等级 | 特点 |
+|---------|---------|---------|---------|---------|------|
+| `ultra-short` | 超短线 | 5分钟 | 30分钟-2小时 | 中高 | 快进快出，2%周期锁利，30分钟盈利平仓 |
+| `swing-trend` | **波段趋势** ⭐ | **20分钟** | **数小时-3天** | **中低** | **中长线波段，捕捉趋势，稳健成长** |
+| `conservative` | 稳健 | 5-15分钟 | 数小时-24小时 | 低 | 低风险低杠杆，保护本金优先 |
+| `balanced` | 平衡 | 5-15分钟 | 数小时-24小时 | 中 | 风险收益平衡（默认策略） |
+| `aggressive` | 激进 | 5-15分钟 | 数小时-24小时 | 高 | 追求高收益，承担高风险 |
+
+**推荐配置 - 波段趋势策略**（适合中长线稳健成长）：
+```bash
+TRADING_STRATEGY=swing-trend
+TRADING_INTERVAL_MINUTES=20
+MAX_LEVERAGE=10
+MAX_POSITIONS=3
+```
+
+详细策略说明请参考：[交易策略配置指南](./docs/TRADING_STRATEGIES_ZH.md)
+
 ### AI 模型配置
 
 系统支持任何兼容 OpenAI API 的供应商：
diff --git a/docs/TRADING_STRATEGIES_ZH.md b/docs/TRADING_STRATEGIES_ZH.md
new file mode 100644
index 0000000..9bdd537
--- /dev/null
+++ b/docs/TRADING_STRATEGIES_ZH.md
@@ -0,0 +1,376 @@
+# 交易策略配置指南
+
+本文档详细说明 open-nof1.ai 系统支持的所有交易策略及其配置方法。
+
+## 策略概览
+
+系统目前支持 **5 种交易策略**，适应不同的市场环境和风险偏好：
+
+| 策略代码 | 策略名称 | 执行周期 | 持仓时长 | 风险等级 | 适合人群 |
+|---------|---------|---------|---------|---------|---------|
+| `ultra-short` | 超短线 | 5分钟 | 30分钟-2小时 | 中高 | 喜欢高频交易、快进快出的交易者 |
+| `swing-trend` | **波段趋势** | **20分钟** | **数小时-3天** | **中低** | **追求中长期趋势、稳健成长的投资者** |
+| `conservative` | 稳健 | 5-15分钟 | 数小时-24小时 | 低 | 保守投资者 |
+| `balanced` | 平衡 | 5-15分钟 | 数小时-24小时 | 中 | 一般投资者 |
+| `aggressive` | 激进 | 5-15分钟 | 数小时-24小时 | 高 | 激进投资者 |
+
+## 策略详细说明
+
+### 🚀 超短线策略 (`ultra-short`)
+
+**核心理念**：快进快出，捕捉短期价格波动，严格执行锁利规则
+
+#### 策略参数
+- **执行周期**：5分钟
+- **建议持仓时长**：30分钟 - 2小时
+- **杠杆范围**：3-5倍（根据MAX_LEVERAGE的50%-75%）
+- **仓位大小**：18-25%
+- **止损范围**：-1.5% ~ -2.5%
+
+#### 风控规则（系统强制执行）
+1. **周期锁利规则**：每个5分钟周期内，盈利>2%且<4%时，立即平仓锁定利润
+2. **30分钟规则**：持仓超过30分钟且盈利>手续费成本时，如未达移动止盈线，执行保守平仓
+3. **移动止盈**：
+   - 盈利≥+4% → 止损移至+1.5%
+   - 盈利≥+8% → 止损移至+4%
+   - 盈利≥+15% → 止损移至+8%
+
+#### 适用场景
+- 市场波动剧烈，短期趋势明确
+- 有充足时间监控系统运行
+- 追求快速资金周转
+
+#### 配置示例
+```bash
+TRADING_STRATEGY=ultra-short
+TRADING_INTERVAL_MINUTES=5
+MAX_LEVERAGE=10
+```
+
+---
+
+### 🌊 波段趋势策略 (`swing-trend`) ⭐ **推荐新策略**
+
+**核心理念**：捕捉中期趋势，耐心等待高质量信号，让利润充分奔跑
+
+#### 策略参数
+- **执行周期**：**20分钟**
+- **建议持仓时长**：**数小时 - 3天**
+- **杠杆范围**：**2-5倍**（根据MAX_LEVERAGE的20%-50%，更保守）
+- **仓位大小**：**12-20%**（更小仓位，降低风险）
+- **止损范围**：**-5% ~ -8%**（更宽止损，给趋势足够空间）
+
+#### 核心优势
+1. **降低交易频率**：20分钟执行周期，减少过度交易
+2. **更低杠杆**：2-5倍杠杆，大幅降低波动风险
+3. **更宽止损**：-5%~-8%止损，避免被短期噪音洗出
+4. **追求趋势利润**：首次止盈目标+50%，最高可达+120%
+5. **更长持仓**：可持仓数天，充分享受趋势红利
+
+#### 移动止盈策略
+```
+盈利≥+15% → 止损移至+8%   (保护至少8%利润)
+盈利≥+30% → 止损移至+20%  (保护至少20%利润)
+盈利≥+50% → 止损移至+35%  (保护至少35%利润)
+```
+
+#### 分批止盈策略
+```
+盈利≥+50%  → 平仓40%（保留60%继续持有）
+盈利≥+80%  → 平仓剩余60%（累计平仓100%）
+盈利≥+120% → 全部清仓（避免贪婪）
+```
+
+#### 入场条件（AI执行）
+- **至少3个以上时间框架信号强烈一致**
+- **优先分析15分钟 - 4小时级别K线**
+- **等待明确趋势形成，不追求交易频率**
+- **重视趋势质量而非数量**
+
+#### 系统风控提醒（非强制）
+1. **72小时持仓提醒**：超过3天持仓，系统提醒AI重新评估趋势
+2. **长期亏损警告**：持仓>24小时且亏损<-3%，提示可能判断错误
+3. **趋势衰竭检测**：峰值盈利后回撤>8%且时间较长，提示趋势可能衰竭
+
+#### 适用场景
+- **市场处于明确的上升或下降趋势**
+- **追求中长期稳定收益，不急于短期获利**
+- **希望降低交易频率，减少心理负担**
+- **资金规模较大，重视风险控制**
+
+#### 配置示例（推荐）
+```bash
+# 环境变量配置
+TRADING_STRATEGY=swing-trend
+TRADING_INTERVAL_MINUTES=20
+MAX_LEVERAGE=10  # 策略实际使用2-5倍，留足安全边际
+MAX_POSITIONS=3  # 建议减少同时持仓数量
+INITIAL_BALANCE=2000
+```
+
+#### 预期收益
+- **月目标收益**：15-35%
+- **胜率目标**：60-70%
+- **盈亏比目标**：≥3:1（止盈目标50-120%，止损5-8%）
+- **夏普比率**：≥1.5
+
+#### 与超短线策略对比
+
+| 维度 | 超短线 (ultra-short) | 波段趋势 (swing-trend) |
+|-----|---------------------|---------------------|
+| 执行周期 | 5分钟 | **20分钟** ⬆️ |
+| 杠杆倍数 | 3-5倍 | **2-5倍** ⬇️ |
+| 仓位大小 | 18-25% | **12-20%** ⬇️ |
+| 止损幅度 | -1.5%~-2.5% | **-5%~-8%** ⬆️ |
+| 首次止盈 | +15% | **+50%** ⬆️⬆️ |
+| 持仓时长 | 30分钟-2小时 | **数小时-3天** ⬆️⬆️ |
+| 交易频率 | 高频快进快出 | **低频精选趋势** ⬇️ |
+| 风险等级 | 中高 | **中低** ⬇️ |
+| 强制规则 | 2%周期锁利、30分钟平仓 | **仅监控提醒，AI自主决策** |
+| 适合行情 | 短期波动 | **中期趋势** |
+
+---
+
+### 🛡️ 稳健策略 (`conservative`)
+
+**核心理念**：保护本金优先，低风险低杠杆
+
+#### 策略参数
+- **杠杆范围**：2-6倍
+- **仓位大小**：15-22%
+- **止损范围**：-2.5% ~ -3.5%
+
+#### 移动止盈
+- 盈利≥+6% → 止损移至+2%
+- 盈利≥+12% → 止损移至+6%
+- 盈利≥+20% → 止损移至+12%
+
+---
+
+### ⚖️ 平衡策略 (`balanced`)
+
+**核心理念**：风险收益平衡，适合大多数投资者
+
+#### 策略参数
+- **杠杆范围**：6-8倍
+- **仓位大小**：20-27%
+- **止损范围**：-2% ~ -3%
+
+#### 移动止盈
+- 盈利≥+8% → 止损移至+3%
+- 盈利≥+15% → 止损移至+8%
+- 盈利≥+25% → 止损移至+15%
+
+---
+
+### 🔥 激进策略 (`aggressive`)
+
+**核心理念**：追求高收益，承担高风险
+
+#### 策略参数
+- **杠杆范围**：8-10倍
+- **仓位大小**：25-32%
+- **止损范围**：-1.5% ~ -2.5%
+
+#### 移动止盈
+- 盈利≥+10% → 止损移至+4%
+- 盈利≥+18% → 止损移至+10%
+- 盈利≥+30% → 止损移至+18%
+
+---
+
+## 策略切换指南
+
+### 何时使用波段趋势策略？
+
+✅ **推荐使用场景**：
+- 市场出现明确的上升或下降趋势（多个时间框架趋势一致）
+- 你希望降低交易频率，减少情绪干扰
+- 资金规模较大，重视稳健增长
+- 你能接受更长的持仓周期（数小时到数天）
+- 你追求更大的单笔收益（50-120%目标）
+
+❌ **不推荐使用场景**：
+- 市场处于震荡盘整，无明确趋势
+- 你需要快速资金周转
+- 你无法接受数天的持仓周期
+- 市场波动极大，趋势不稳定
+
+### 何时使用超短线策略？
+
+✅ **推荐使用场景**：
+- 市场波动频繁，短期趋势明确
+- 你有充足时间监控系统
+- 你喜欢快进快出的交易节奏
+- 资金规模较小，需要快速积累
+
+### 策略切换步骤
+
+1. **平仓所有持仓**（避免策略冲突）
+2. **修改环境变量**：
+   ```bash
+   # 切换到波段趋势策略
+   TRADING_STRATEGY=swing-trend
+   TRADING_INTERVAL_MINUTES=20
+   
+   # 或切换到超短线策略
+   TRADING_STRATEGY=ultra-short
+   TRADING_INTERVAL_MINUTES=5
+   ```
+3. **重启系统**：
+   ```bash
+   docker-compose down
+   docker-compose up -d
+   ```
+
+---
+
+## 风控对比
+
+### 系统硬性底线（所有策略共同）
+- **极端止损**：单笔亏损≤-30%强制平仓（防止爆仓）
+- **36小时限制**：任何持仓超过36小时强制平仓（释放资金）
+- **账户回撤保护**：账户总回撤达到预设阈值时触发保护
+
+### 策略专属风控
+
+| 策略 | 专属风控规则 | 特点 |
+|-----|-------------|-----|
+| ultra-short | • 2%周期锁利<br>• 30分钟盈利平仓 | 系统**强制执行** |
+| swing-trend | • 72小时持仓提醒<br>• 长期亏损警告<br>• 趋势衰竭检测 | 系统**仅提醒**，AI自主决策 |
+| conservative/balanced/aggressive | 无专属规则 | AI全权决策 |
+
+---
+
+## 最佳实践建议
+
+### 波段趋势策略最佳实践
+
+1. **耐心等待信号**
+   - 不要急于开仓，等待至少3个时间框架确认
+   - 优先关注15分钟、1小时、4小时级别的趋势
+
+2. **严格执行移动止盈**
+   - 盈利达到+15%时，务必将止损移至+8%
+   - 给利润足够空间，但保护已有收益
+
+3. **合理使用杠杆**
+   - 普通信号：2倍杠杆（最安全）
+   - 良好信号：3倍杠杆（平衡）
+   - 强信号：5倍杠杆（最大值，谨慎使用）
+
+4. **控制同时持仓数**
+   - 建议：1-3个持仓（`MAX_POSITIONS=3`）
+   - 避免过度分散，保持资金集中度
+
+5. **关注趋势质量**
+   - 重视趋势的强度和稳定性
+   - 宁可错过机会，不可盲目开仓
+   - 一周2-3笔高质量交易，远胜10笔平庸交易
+
+### 超短线策略最佳实践
+
+1. **快进快出**
+   - 盈利>2%立即考虑锁利
+   - 不要贪婪，小利润也是利润
+
+2. **严格遵守规则**
+   - 系统的2%锁利和30分钟规则是经验总结
+   - 不要试图手动干预
+
+3. **高频监控**
+   - 5分钟周期需要更频繁的监控
+   - 确保系统稳定运行
+
+---
+
+## 配置示例
+
+### 生产环境 - 波段趋势策略（推荐）
+
+```bash
+# .env 文件配置
+
+# 策略配置
+TRADING_STRATEGY=swing-trend           # 使用波段趋势策略
+TRADING_INTERVAL_MINUTES=20            # 20分钟执行周期
+
+# 风控配置
+MAX_LEVERAGE=10                        # 最大杠杆10倍（策略实际使用2-5倍）
+MAX_POSITIONS=3                        # 最多3个持仓
+MAX_HOLDING_HOURS=72                   # 最大持仓72小时（3天）
+INITIAL_BALANCE=2000                   # 初始资金2000 USDT
+
+# 账户风控
+ACCOUNT_STOP_LOSS_USDT=1500           # 账户止损线
+ACCOUNT_TAKE_PROFIT_USDT=3000         # 账户止盈线
+
+# API配置
+GATE_API_KEY=your_api_key
+GATE_API_SECRET=your_api_secret
+GATE_USE_TESTNET=false                # 生产环境
+
+# AI配置
+OPENAI_API_KEY=your_openai_key
+OPENAI_BASE_URL=https://openrouter.ai/api/v1
+AI_MODEL_NAME=deepseek/deepseek-v3.2-exp
+```
+
+### 测试环境 - 超短线策略
+
+```bash
+# 策略配置
+TRADING_STRATEGY=ultra-short           # 使用超短线策略
+TRADING_INTERVAL_MINUTES=5             # 5分钟执行周期
+
+# 风控配置
+MAX_LEVERAGE=10
+MAX_POSITIONS=5                        # 超短线可以持仓更多
+MAX_HOLDING_HOURS=36
+INITIAL_BALANCE=1000                   # 测试环境小资金
+
+# 测试网络
+GATE_USE_TESTNET=true                  # 使用测试网
+```
+
+---
+
+## 常见问题
+
+### Q1: 波段趋势策略会不会错过短期机会？
+**A**: 是的，波段策略会放弃很多短期波动机会。但这是策略特点，不是缺陷。通过降低交易频率，专注于高质量趋势，可以获得更高的胜率和盈亏比，长期收益更稳定。
+
+### Q2: 为什么波段策略的杠杆更低？
+**A**: 因为持仓时间更长（数天），市场可能经历更大的波动。低杠杆（2-5倍）可以有效降低爆仓风险，配合更宽的止损（-5%~-8%），避免被短期噪音洗出。
+
+### Q3: 波段策略的止盈目标（+50%起）会不会太高？
+**A**: 对于短线交易来说确实很高，但对于波段交易是合理的。一个稳定的中期趋势完全可以提供50%以上的收益空间。而且策略设计了分批止盈（+50%平仓40%），既锁定部分利润，又给剩余持仓追求更高收益的机会。
+
+### Q4: 可以同时运行多个策略吗？
+**A**: 不建议。每个策略有不同的风控规则和执行逻辑，同时运行可能导致冲突。建议根据市场状况选择一个策略专注执行。
+
+### Q5: 如何评估策略效果？
+**A**: 关注这些指标：
+- **胜率**：盈利交易占比（目标≥60%）
+- **盈亏比**：平均盈利/平均亏损（目标≥2.5:1）
+- **月收益率**：月度总收益（波段策略目标15-35%）
+- **夏普比率**：风险调整后收益（目标≥1.5）
+- **最大回撤**：峰值到低谷的最大跌幅（控制在20%以内）
+
+---
+
+## 技术支持
+
+如有问题或建议，请通过以下方式联系：
+
+- **GitHub Issues**: [https://github.com/195440/open-nof1.ai/issues](https://github.com/195440/open-nof1.ai/issues)
+- **讨论区**: [https://github.com/195440/open-nof1.ai/discussions](https://github.com/195440/open-nof1.ai/discussions)
+
+---
+
+## 版权声明
+
+Copyright (C) 2025 195440
+
+本文档遵循 GNU Affero General Public License v3.0 协议。
+
diff --git a/src/agents/tradingAgent.ts b/src/agents/tradingAgent.ts
index f3d9556..28bfbfb 100644
--- a/src/agents/tradingAgent.ts
+++ b/src/agents/tradingAgent.ts
@@ -50,7 +50,7 @@ export function getAccountRiskConfig(): AccountRiskConfig {
 /**
  * 交易策略类型
  */
-export type TradingStrategy = "conservative" | "balanced" | "aggressive";
+export type TradingStrategy = "conservative" | "balanced" | "aggressive" | "ultra-short" | "swing-trend";
 
 /**
  * 策略参数配置
@@ -130,6 +130,94 @@ export function getStrategyParams(strategy: TradingStrategy): StrategyParams {
   const aggressiveLevStrong = aggressiveLevMax;
   
   const strategyConfigs: Record<TradingStrategy, StrategyParams> = {
+    "ultra-short": {
+      name: "超短线",
+      description: "极短周期快进快出，5分钟执行，适合高频交易",
+      leverageMin: Math.max(3, Math.ceil(maxLeverage * 0.5)),
+      leverageMax: Math.max(5, Math.ceil(maxLeverage * 0.75)),
+      leverageRecommend: {
+        normal: `${Math.max(3, Math.ceil(maxLeverage * 0.5))}倍`,
+        good: `${Math.max(4, Math.ceil(maxLeverage * 0.625))}倍`,
+        strong: `${Math.max(5, Math.ceil(maxLeverage * 0.75))}倍`,
+      },
+      positionSizeMin: 18,
+      positionSizeMax: 25,
+      positionSizeRecommend: {
+        normal: "18-20%",
+        good: "20-23%",
+        strong: "23-25%",
+      },
+      stopLoss: {
+        low: -2.5,
+        mid: -2,
+        high: -1.5,
+      },
+      trailingStop: {
+        // 超短线策略：快速锁利（5分钟周期）
+        level1: { trigger: 4, stopAt: 1.5 },   // 盈利达到 +4% 时，止损线移至 +1.5%
+        level2: { trigger: 8, stopAt: 4 },     // 盈利达到 +8% 时，止损线移至 +4%
+        level3: { trigger: 15, stopAt: 8 },    // 盈利达到 +15% 时，止损线移至 +8%
+      },
+      partialTakeProfit: {
+        // 超短线策略：快速分批止盈
+        stage1: { trigger: 15, closePercent: 50 },  // +15% 平仓50%
+        stage2: { trigger: 25, closePercent: 50 },  // +25% 平仓剩余50%
+        stage3: { trigger: 35, closePercent: 100 }, // +35% 全部清仓
+      },
+      peakDrawdownProtection: 20, // 超短线：20%峰值回撤保护（快速保护利润）
+      volatilityAdjustment: {
+        highVolatility: { leverageFactor: 0.7, positionFactor: 0.8 },
+        normalVolatility: { leverageFactor: 1.0, positionFactor: 1.0 },
+        lowVolatility: { leverageFactor: 1.1, positionFactor: 1.0 },
+      },
+      entryCondition: "至少2个时间框架信号一致，优先1-5分钟级别",
+      riskTolerance: "单笔交易风险控制在18-25%之间，快进快出",
+      tradingStyle: "超短线交易，5分钟执行周期，快速捕捉短期波动，严格执行2%周期锁利规则和30分钟盈利平仓规则",
+    },
+    "swing-trend": {
+      name: "波段趋势",
+      description: "中长线波段交易，20分钟执行，捕捉中期趋势，适合稳健成长",
+      leverageMin: Math.max(2, Math.ceil(maxLeverage * 0.2)),
+      leverageMax: Math.max(5, Math.ceil(maxLeverage * 0.5)),
+      leverageRecommend: {
+        normal: `${Math.max(2, Math.ceil(maxLeverage * 0.2))}倍`,
+        good: `${Math.max(3, Math.ceil(maxLeverage * 0.35))}倍`,
+        strong: `${Math.max(5, Math.ceil(maxLeverage * 0.5))}倍`,
+      },
+      positionSizeMin: 12,
+      positionSizeMax: 20,
+      positionSizeRecommend: {
+        normal: "12-15%",
+        good: "15-18%",
+        strong: "18-20%",
+      },
+      stopLoss: {
+        low: -8,    // 低杠杆：-8%止损（给趋势足够空间）
+        mid: -6,    // 中杠杆：-6%止损
+        high: -5,   // 高杠杆：-5%止损
+      },
+      trailingStop: {
+        // 波段策略：给趋势更多空间，较晚锁定利润
+        level1: { trigger: 15, stopAt: 8 },   // 盈利达到 +15% 时，止损线移至 +8%
+        level2: { trigger: 30, stopAt: 20 },  // 盈利达到 +30% 时，止损线移至 +20%
+        level3: { trigger: 50, stopAt: 35 },  // 盈利达到 +50% 时，止损线移至 +35%
+      },
+      partialTakeProfit: {
+        // 波段策略：更晚分批止盈，追求趋势利润最大化
+        stage1: { trigger: 50, closePercent: 40 },  // +50% 平仓40%（保留60%追求更大利润）
+        stage2: { trigger: 80, closePercent: 60 },  // +80% 平仓剩余60%（累计平仓100%）
+        stage3: { trigger: 120, closePercent: 100 },// +120% 全部清仓
+      },
+      peakDrawdownProtection: 35, // 波段策略：35%峰值回撤保护（给趋势更多空间）
+      volatilityAdjustment: {
+        highVolatility: { leverageFactor: 0.5, positionFactor: 0.6 },   // 高波动：大幅降低风险
+        normalVolatility: { leverageFactor: 1.0, positionFactor: 1.0 }, // 正常波动：标准配置
+        lowVolatility: { leverageFactor: 1.2, positionFactor: 1.1 },    // 低波动：适度提高（趋势稳定）
+      },
+      entryCondition: "至少3个以上时间框架信号强烈一致，优先15分钟-4小时级别，等待明确趋势形成",
+      riskTolerance: "单笔交易风险控制在12-20%之间，注重趋势质量而非交易频率",
+      tradingStyle: "波段趋势交易，20分钟执行周期，耐心等待高质量趋势信号，持仓时间可达数天，让利润充分奔跑",
+    },
     "conservative": {
       name: "稳健",
       description: "低风险低杠杆，严格入场条件，适合保守投资者",
@@ -280,7 +368,7 @@ const logger = createPinoLogger({
  */
 export function getTradingStrategy(): TradingStrategy {
   const strategy = process.env.TRADING_STRATEGY || "balanced";
-  if (strategy === "conservative" || strategy === "balanced" || strategy === "aggressive") {
+  if (strategy === "conservative" || strategy === "balanced" || strategy === "aggressive" || strategy === "ultra-short" || strategy === "swing-trend") {
     return strategy;
   }
   logger.warn(`未知的交易策略: ${strategy}，使用默认策略: balanced`);
-- 
2.34.1

